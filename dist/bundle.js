(()=>{var t={91:(t,e,r)=>{"use strict";r.d(e,{N:()=>o});const s=Object.prototype.toString;function o(t){return s.call(t).endsWith("Array]")}},939:(t,e,r)=>{"use strict";r.r(e),r.d(e,{DecisionTreeClassifier:()=>g,DecisionTreeRegression:()=>p});var s=r(883),o=r(91);function i(t){return function(t){if(!(0,o.N)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");for(var e=0,r=0;r<t.length;r++)e+=t[r];return e}(t)/t.length}function n(t,e){let r=new Array(e).fill(0);for(let e=0;e<t.length;++e)r[t[e]]+=1/t.length;return s.Z.rowVector(r)}function h(t){if(0===t.length)return 0;let e=n(t,l(t)).getRow(0),r=0;for(let t=0;t<e.length;++t)r+=e[t]*e[t];return 1-r}function l(t){return t.filter(((t,e,r)=>r.indexOf(t)===e)).map((t=>t+1)).reduce(((t,e)=>Math.max(t,e)))}function u(t){let e=t.length;if(0===e)return 0;let r=i(t),s=0;for(let o=0;o<e;++o){let e=t[o];s+=(e-r)*(e-r)}return s}const a={gini:function(t,e){let r=0,s=["greater","lesser"];for(let o=0;o<s.length;++o){let i=e[s[o]];r+=h(i)*i.length/t.length}return h(t)-r},regression:function(t,e){let r=0,s=["greater","lesser"];for(let t=0;t<s.length;++t)r+=u(e[s[t]]);return r}},f={mean:function(t,e){return(t+e)/2}};class c{constructor(t){this.kind=t.kind,this.gainFunction=t.gainFunction,this.splitFunction=t.splitFunction,this.minNumSamples=t.minNumSamples,this.maxDepth=t.maxDepth,this.gainThreshold=t.gainThreshold||0}bestSplit(t,e){let r,s,o,i="classifier"===this.kind?-1/0:1/0,n="classifier"===this.kind?(t,e)=>t>e:(t,e)=>t<e;for(let h=0;h<t.rows;++h){let l=t.getRow(h),u=this.featureSplit(l,e);for(let t=0;t<u.length;++t){let f=u[t],c=this.split(l,e,f),m=a[this.gainFunction](e,c);n(m,i)&&(r=h,s=f,i=m,o=l.length)}}return{maxGain:i,maxColumn:r,maxValue:s,numberSamples:o}}split(t,e,r){let s=[],o=[];for(let i=0;i<t.length;++i)t[i]<r?s.push(e[i]):o.push(e[i]);return{greater:o,lesser:s}}featureSplit(t,e){let r=[],s=function(t,e){if(t.length!==e.length)throw new TypeError(`Error on zip: the size of a: ${t.length} is different from b: ${e.length}`);let r=new Array(t.length);for(let s=0;s<t.length;++s)r[s]=[t[s],e[s]];return r}(t,e);s.sort(((t,e)=>t[0]-e[0]));for(let t=1;t<s.length;++t)s[t-1][1]!==s[t][1]&&r.push(f[this.splitFunction](s[t-1][0],s[t][0]));return r}calculatePrediction(t){if("classifier"===this.kind){if(this.distribution=n(t,l(t)),0===this.distribution.columns)throw new TypeError("Error on calculate the prediction")}else this.distribution=i(t)}train(t,e,r,o){if(t.rows<=this.minNumSamples)return void this.calculatePrediction(e);void 0===o&&(o=0);let i=t.transpose(),n=this.bestSplit(i,e);this.splitValue=n.maxValue,this.splitColumn=n.maxColumn,this.gain=n.maxGain,this.numberSamples=n.numberSamples;let h=function(t,e,r,s){let o=[],i=[],n=[],h=[];for(let l=0;l<t.rows;++l)t.get(l,r)<s?(o.push(t.getRow(l)),n.push(e[l])):(i.push(t.getRow(l)),h.push(e[l]));return{greaterX:i,greaterY:h,lesserX:o,lesserY:n}}(t,e,this.splitColumn,this.splitValue);if(r<this.maxDepth&&this.gain>this.gainThreshold&&this.gain!==o&&h.lesserX.length>0&&h.greaterX.length>0){this.left=new c(this),this.right=new c(this);let t=new s.Z(h.lesserX),e=new s.Z(h.greaterX);this.left.train(t,h.lesserY,r+1,this.gain),this.right.train(e,h.greaterY,r+1,this.gain)}else this.calculatePrediction(e)}classify(t){return this.right&&this.left?t[this.splitColumn]<this.splitValue?this.left.classify(t):this.right.classify(t):this.distribution}setNodeParameters(t){void 0!==t.distribution?this.distribution=t.distribution.constructor===Array?new s.Z(t.distribution):t.distribution:(this.distribution=void 0,this.splitValue=t.splitValue,this.splitColumn=t.splitColumn,this.gain=t.gain,this.left=new c(this),this.right=new c(this),t.left!=={}&&this.left.setNodeParameters(t.left),t.right!=={}&&this.right.setNodeParameters(t.right))}}const m={gainFunction:"gini",splitFunction:"mean",minNumSamples:3,maxDepth:1/0,gainThreshold:.01};class g{constructor(t,e){!0===t?(this.options=e.options,this.root=new c(e.options),this.root.setNodeParameters(e.root)):(this.options=Object.assign({},m,t),this.options.kind="classifier")}train(t,e){this.root=new c(this.options),t=s.Z.checkMatrix(t),this.root.train(t,e,0,null)}predict(t){t=s.Z.checkMatrix(t);let e=new Array(t.rows);for(let r=0;r<t.rows;++r)e[r]=this.root.classify(t.getRow(r)).maxRowIndex(0)[1];return e}toJSON(){return{options:this.options,root:this.root,name:"DTClassifier"}}static load(t){if("DTClassifier"!==t.name)throw new RangeError(`Invalid model: ${t.name}`);return new g(!0,t)}}const w={gainFunction:"regression",splitFunction:"mean",minNumSamples:3,maxDepth:1/0};class p{constructor(t,e){!0===t?(this.options=e.options,this.root=new c(e.options),this.root.setNodeParameters(e.root)):(this.options=Object.assign({},w,t),this.options.kind="regression")}train(t,e){this.root=new c(this.options),t=void 0!==t[0]&&void 0===t[0].length?s.Z.columnVector(t):s.Z.checkMatrix(t),this.root.train(t,e,0)}predict(t){void 0!==t[0]&&void 0===t[0].length&&(t=s.Z.columnVector(t)),t=s.Z.checkMatrix(t);let e=new Array(t.rows);for(let r=0;r<t.rows;++r)e[r]=this.root.classify(t.getRow(r));return e}toJSON(){return{options:this.options,root:this.root,name:"DTRegression"}}static load(t){if("DTRegression"!==t.name)throw new RangeError(`Invalid model:${t.name}`);return new p(!0,t)}}},938:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AbstractMatrix:()=>s.X,CHO:()=>q,CholeskyDecomposition:()=>q,EVD:()=>A,EigenvalueDecomposition:()=>A,LU:()=>M,LuDecomposition:()=>M,Matrix:()=>s.Z,MatrixColumnSelectionView:()=>h,MatrixColumnView:()=>n,MatrixFlipColumnView:()=>l,MatrixFlipRowView:()=>u,MatrixRowSelectionView:()=>f,MatrixRowView:()=>a,MatrixSelectionView:()=>c,MatrixSubView:()=>m,MatrixTransposeView:()=>g,NIPALS:()=>Z,Nipals:()=>Z,QR:()=>x,QrDecomposition:()=>x,SVD:()=>v,SingularValueDecomposition:()=>v,WrapperMatrix1D:()=>p,WrapperMatrix2D:()=>d,correlation:()=>C,covariance:()=>V,default:()=>s.Z,determinant:()=>R,inverse:()=>E,linearDependencies:()=>I,pseudoInverse:()=>k,solve:()=>S,wrap:()=>b});var s=r(883),o=r(18);class i extends s.X{constructor(t,e,r){super(),this.matrix=t,this.rows=e,this.columns=r}}class n extends i{constructor(t,e){(0,o.bp)(t,e),super(t,t.rows,1),this.column=e}set(t,e,r){return this.matrix.set(t,this.column,r),this}get(t){return this.matrix.get(t,this.column)}}class h extends i{constructor(t,e){(0,o.g)(t,e),super(t,t.rows,e.length),this.columnIndices=e}set(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}get(t,e){return this.matrix.get(t,this.columnIndices[e])}}class l extends i{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}get(t,e){return this.matrix.get(t,this.columns-e-1)}}class u extends i{constructor(t){super(t,t.rows,t.columns)}set(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}get(t,e){return this.matrix.get(this.rows-t-1,e)}}class a extends i{constructor(t,e){(0,o.zb)(t,e),super(t,1,t.columns),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}}class f extends i{constructor(t,e){(0,o.ZR)(t,e),super(t,e.length,t.columns),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}}class c extends i{constructor(t,e,r){(0,o.ZR)(t,e),(0,o.g)(t,r),super(t,e.length,r.length),this.rowIndices=e,this.columnIndices=r}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}class m extends i{constructor(t,e,r,s,i){(0,o.J5)(t,e,r,s,i),super(t,r-e+1,i-s+1),this.startRow=e,this.startColumn=s}set(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}get(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}class g extends i{constructor(t){super(t,t.columns,t.rows)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}}var w=r(91);class p extends s.X{constructor(t,e={}){const{rows:r=1}=e;if(t.length%r!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=r,this.columns=t.length/r,this.data=t}set(t,e,r){let s=this._calculateIndex(t,e);return this.data[s]=r,this}get(t,e){let r=this._calculateIndex(t,e);return this.data[r]}_calculateIndex(t,e){return t*this.columns+e}}class d extends s.X{constructor(t){super(),this.data=t,this.rows=t.length,this.columns=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}function b(t,e){if((0,w.N)(t))return t[0]&&(0,w.N)(t[0])?new d(t):new p(t,e);throw new Error("the argument is not an array")}class M{constructor(t){let e,r,s,o,i,n,h,l,u,a=(t=d.checkMatrix(t)).clone(),f=a.rows,c=a.columns,m=new Float64Array(f),g=1;for(e=0;e<f;e++)m[e]=e;for(l=new Float64Array(f),r=0;r<c;r++){for(e=0;e<f;e++)l[e]=a.get(e,r);for(e=0;e<f;e++){for(u=Math.min(e,r),i=0,s=0;s<u;s++)i+=a.get(e,s)*l[s];l[e]-=i,a.set(e,r,l[e])}for(o=r,e=r+1;e<f;e++)Math.abs(l[e])>Math.abs(l[o])&&(o=e);if(o!==r){for(s=0;s<c;s++)n=a.get(o,s),a.set(o,s,a.get(r,s)),a.set(r,s,n);h=m[o],m[o]=m[r],m[r]=h,g=-g}if(r<f&&0!==a.get(r,r))for(e=r+1;e<f;e++)a.set(e,r,a.get(e,r)/a.get(r,r))}this.LU=a,this.pivotVector=m,this.pivotSign=g}isSingular(){let t=this.LU,e=t.columns;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=s.Z.checkMatrix(t);let e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let r,o,i,n=t.columns,h=t.subMatrixRow(this.pivotVector,0,n-1),l=e.columns;for(i=0;i<l;i++)for(r=i+1;r<l;r++)for(o=0;o<n;o++)h.set(r,o,h.get(r,o)-h.get(i,o)*e.get(r,i));for(i=l-1;i>=0;i--){for(o=0;o<n;o++)h.set(i,o,h.get(i,o)/e.get(i,i));for(r=0;r<i;r++)for(o=0;o<n;o++)h.set(r,o,h.get(r,o)-h.get(i,o)*e.get(r,i))}return h}get determinant(){let t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");let e=this.pivotSign,r=t.columns;for(let s=0;s<r;s++)e*=t.get(s,s);return e}get lowerTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,o=new s.Z(e,r);for(let s=0;s<e;s++)for(let e=0;e<r;e++)s>e?o.set(s,e,t.get(s,e)):s===e?o.set(s,e,1):o.set(s,e,0);return o}get upperTriangularMatrix(){let t=this.LU,e=t.rows,r=t.columns,o=new s.Z(e,r);for(let s=0;s<e;s++)for(let e=0;e<r;e++)s<=e?o.set(s,e,t.get(s,e)):o.set(s,e,0);return o}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function y(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class x{constructor(t){let e,r,s,o,i=(t=d.checkMatrix(t)).clone(),n=t.rows,h=t.columns,l=new Float64Array(h);for(s=0;s<h;s++){let t=0;for(e=s;e<n;e++)t=y(t,i.get(e,s));if(0!==t){for(i.get(s,s)<0&&(t=-t),e=s;e<n;e++)i.set(e,s,i.get(e,s)/t);for(i.set(s,s,i.get(s,s)+1),r=s+1;r<h;r++){for(o=0,e=s;e<n;e++)o+=i.get(e,s)*i.get(e,r);for(o=-o/i.get(s,s),e=s;e<n;e++)i.set(e,r,i.get(e,r)+o*i.get(e,s))}}l[s]=-t}this.QR=i,this.Rdiag=l}solve(t){t=s.Z.checkMatrix(t);let e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let o,i,n,h,l=t.columns,u=t.clone(),a=e.columns;for(n=0;n<a;n++)for(i=0;i<l;i++){for(h=0,o=n;o<r;o++)h+=e.get(o,n)*u.get(o,i);for(h=-h/e.get(n,n),o=n;o<r;o++)u.set(o,i,u.get(o,i)+h*e.get(o,n))}for(n=a-1;n>=0;n--){for(i=0;i<l;i++)u.set(n,i,u.get(n,i)/this.Rdiag[n]);for(o=0;o<n;o++)for(i=0;i<l;i++)u.set(o,i,u.get(o,i)-u.get(n,i)*e.get(o,n))}return u.subMatrix(0,a-1,0,l-1)}isFullRank(){let t=this.QR.columns;for(let e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}get upperTriangularMatrix(){let t,e,r=this.QR,o=r.columns,i=new s.Z(o,o);for(t=0;t<o;t++)for(e=0;e<o;e++)t<e?i.set(t,e,r.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}get orthogonalMatrix(){let t,e,r,o,i=this.QR,n=i.rows,h=i.columns,l=new s.Z(n,h);for(r=h-1;r>=0;r--){for(t=0;t<n;t++)l.set(t,r,0);for(l.set(r,r,1),e=r;e<h;e++)if(0!==i.get(r,r)){for(o=0,t=r;t<n;t++)o+=i.get(t,r)*l.get(t,e);for(o=-o/i.get(r,r),t=r;t<n;t++)l.set(t,e,l.get(t,e)+o*i.get(t,r))}}return l}}class v{constructor(t,e={}){if((t=d.checkMatrix(t)).isEmpty())throw new Error("Matrix must be non-empty");let r=t.rows,o=t.columns;const{computeLeftSingularVectors:i=!0,computeRightSingularVectors:n=!0,autoTranspose:h=!1}=e;let l,u=Boolean(i),a=Boolean(n),f=!1;if(r<o)if(h){l=t.transpose(),r=l.rows,o=l.columns,f=!0;let e=u;u=a,a=e}else l=t.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else l=t.clone();let c=Math.min(r,o),m=Math.min(r+1,o),g=new Float64Array(m),w=new s.Z(r,c),p=new s.Z(o,o),b=new Float64Array(o),M=new Float64Array(r),x=new Float64Array(m);for(let t=0;t<m;t++)x[t]=t;let v=Math.min(r-1,o),E=Math.max(0,Math.min(o-2,r)),S=Math.max(v,E);for(let t=0;t<S;t++){if(t<v){g[t]=0;for(let e=t;e<r;e++)g[t]=y(g[t],l.get(e,t));if(0!==g[t]){l.get(t,t)<0&&(g[t]=-g[t]);for(let e=t;e<r;e++)l.set(e,t,l.get(e,t)/g[t]);l.set(t,t,l.get(t,t)+1)}g[t]=-g[t]}for(let e=t+1;e<o;e++){if(t<v&&0!==g[t]){let s=0;for(let o=t;o<r;o++)s+=l.get(o,t)*l.get(o,e);s=-s/l.get(t,t);for(let o=t;o<r;o++)l.set(o,e,l.get(o,e)+s*l.get(o,t))}b[e]=l.get(t,e)}if(u&&t<v)for(let e=t;e<r;e++)w.set(e,t,l.get(e,t));if(t<E){b[t]=0;for(let e=t+1;e<o;e++)b[t]=y(b[t],b[e]);if(0!==b[t]){b[t+1]<0&&(b[t]=0-b[t]);for(let e=t+1;e<o;e++)b[e]/=b[t];b[t+1]+=1}if(b[t]=-b[t],t+1<r&&0!==b[t]){for(let e=t+1;e<r;e++)M[e]=0;for(let e=t+1;e<r;e++)for(let r=t+1;r<o;r++)M[e]+=b[r]*l.get(e,r);for(let e=t+1;e<o;e++){let s=-b[e]/b[t+1];for(let o=t+1;o<r;o++)l.set(o,e,l.get(o,e)+s*M[o])}}if(a)for(let e=t+1;e<o;e++)p.set(e,t,b[e])}}let R=Math.min(o,r+1);if(v<o&&(g[v]=l.get(v,v)),r<R&&(g[R-1]=0),E+1<R&&(b[E]=l.get(E,R-1)),b[R-1]=0,u){for(let t=v;t<c;t++){for(let e=0;e<r;e++)w.set(e,t,0);w.set(t,t,1)}for(let t=v-1;t>=0;t--)if(0!==g[t]){for(let e=t+1;e<c;e++){let s=0;for(let o=t;o<r;o++)s+=w.get(o,t)*w.get(o,e);s=-s/w.get(t,t);for(let o=t;o<r;o++)w.set(o,e,w.get(o,e)+s*w.get(o,t))}for(let e=t;e<r;e++)w.set(e,t,-w.get(e,t));w.set(t,t,1+w.get(t,t));for(let e=0;e<t-1;e++)w.set(e,t,0)}else{for(let e=0;e<r;e++)w.set(e,t,0);w.set(t,t,1)}}if(a)for(let t=o-1;t>=0;t--){if(t<E&&0!==b[t])for(let e=t+1;e<o;e++){let r=0;for(let s=t+1;s<o;s++)r+=p.get(s,t)*p.get(s,e);r=-r/p.get(t+1,t);for(let s=t+1;s<o;s++)p.set(s,e,p.get(s,e)+r*p.get(s,t))}for(let e=0;e<o;e++)p.set(e,t,0);p.set(t,t,1)}let N=R-1,T=0,I=Number.EPSILON;for(;R>0;){let t,e;for(t=R-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+I*Math.abs(g[t]+Math.abs(g[t+1]));if(Math.abs(b[t])<=e||Number.isNaN(b[t])){b[t]=0;break}}if(t===R-2)e=4;else{let r;for(r=R-1;r>=t&&r!==t;r--){let e=(r!==R?Math.abs(b[r]):0)+(r!==t+1?Math.abs(b[r-1]):0);if(Math.abs(g[r])<=I*e){g[r]=0;break}}r===t?e=3:r===R-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=b[R-2];b[R-2]=0;for(let r=R-2;r>=t;r--){let s=y(g[r],e),i=g[r]/s,n=e/s;if(g[r]=s,r!==t&&(e=-n*b[r-1],b[r-1]=i*b[r-1]),a)for(let t=0;t<o;t++)s=i*p.get(t,r)+n*p.get(t,R-1),p.set(t,R-1,-n*p.get(t,r)+i*p.get(t,R-1)),p.set(t,r,s)}break}case 2:{let e=b[t-1];b[t-1]=0;for(let s=t;s<R;s++){let o=y(g[s],e),i=g[s]/o,n=e/o;if(g[s]=o,e=-n*b[s],b[s]=i*b[s],u)for(let e=0;e<r;e++)o=i*w.get(e,s)+n*w.get(e,t-1),w.set(e,t-1,-n*w.get(e,s)+i*w.get(e,t-1)),w.set(e,s,o)}break}case 3:{const e=Math.max(Math.abs(g[R-1]),Math.abs(g[R-2]),Math.abs(b[R-2]),Math.abs(g[t]),Math.abs(b[t])),s=g[R-1]/e,i=g[R-2]/e,n=b[R-2]/e,h=g[t]/e,l=b[t]/e,f=((i+s)*(i-s)+n*n)/2,c=s*n*(s*n);let m=0;0===f&&0===c||(m=f<0?0-Math.sqrt(f*f+c):Math.sqrt(f*f+c),m=c/(f+m));let d=(h+s)*(h-s)+m,M=h*l;for(let e=t;e<R-1;e++){let s=y(d,M);0===s&&(s=Number.MIN_VALUE);let i=d/s,n=M/s;if(e!==t&&(b[e-1]=s),d=i*g[e]+n*b[e],b[e]=i*b[e]-n*g[e],M=n*g[e+1],g[e+1]=i*g[e+1],a)for(let t=0;t<o;t++)s=i*p.get(t,e)+n*p.get(t,e+1),p.set(t,e+1,-n*p.get(t,e)+i*p.get(t,e+1)),p.set(t,e,s);if(s=y(d,M),0===s&&(s=Number.MIN_VALUE),i=d/s,n=M/s,g[e]=s,d=i*b[e]+n*g[e+1],g[e+1]=-n*b[e]+i*g[e+1],M=n*b[e+1],b[e+1]=i*b[e+1],u&&e<r-1)for(let t=0;t<r;t++)s=i*w.get(t,e)+n*w.get(t,e+1),w.set(t,e+1,-n*w.get(t,e)+i*w.get(t,e+1)),w.set(t,e,s)}b[R-2]=d,T+=1;break}case 4:if(g[t]<=0&&(g[t]=g[t]<0?-g[t]:0,a))for(let e=0;e<=N;e++)p.set(e,t,-p.get(e,t));for(;t<N&&!(g[t]>=g[t+1]);){let e=g[t];if(g[t]=g[t+1],g[t+1]=e,a&&t<o-1)for(let r=0;r<o;r++)e=p.get(r,t+1),p.set(r,t+1,p.get(r,t)),p.set(r,t,e);if(u&&t<r-1)for(let s=0;s<r;s++)e=w.get(s,t+1),w.set(s,t+1,w.get(s,t)),w.set(s,t,e);t++}T=0,R--}}if(f){let t=p;p=w,w=t}this.m=r,this.n=o,this.s=g,this.U=w,this.V=p}solve(t){let e=t,r=this.threshold,o=this.s.length,i=s.Z.zeros(o,o);for(let t=0;t<o;t++)Math.abs(this.s[t])<=r?i.set(t,t,0):i.set(t,t,1/this.s[t]);let n=this.U,h=this.rightSingularVectors,l=h.mmul(i),u=h.rows,a=n.rows,f=s.Z.zeros(u,a);for(let t=0;t<u;t++)for(let e=0;e<a;e++){let r=0;for(let s=0;s<o;s++)r+=l.get(t,s)*n.get(e,s);f.set(t,e,r)}return f.mmul(e)}solveForDiagonal(t){return this.solve(s.Z.diag(t))}inverse(){let t=this.V,e=this.threshold,r=t.rows,o=t.columns,i=new s.Z(r,this.s.length);for(let s=0;s<r;s++)for(let r=0;r<o;r++)Math.abs(this.s[r])>e&&i.set(s,r,t.get(s,r)/this.s[r]);let n=this.U,h=n.rows,l=n.columns,u=new s.Z(r,h);for(let t=0;t<r;t++)for(let e=0;e<h;e++){let r=0;for(let s=0;s<l;s++)r+=i.get(t,s)*n.get(e,s);u.set(t,e,r)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let s=0,o=r.length;s<o;s++)r[s]>t&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return s.Z.diag(this.s)}}function E(t,e=!1){return t=d.checkMatrix(t),e?new v(t).inverse():S(t,s.Z.eye(t.rows))}function S(t,e,r=!1){return t=d.checkMatrix(t),e=d.checkMatrix(e),r?new v(t).solve(e):t.isSquare()?new M(t).solve(e):new x(t).solve(e)}function R(t){if((t=s.Z.checkMatrix(t)).isSquare()){if(0===t.columns)return 1;let e,r,s,o;if(2===t.columns)return e=t.get(0,0),r=t.get(0,1),s=t.get(1,0),o=t.get(1,1),e*o-r*s;if(3===t.columns){let o,i,n;return o=new c(t,[1,2],[1,2]),i=new c(t,[1,2],[0,2]),n=new c(t,[1,2],[0,1]),e=t.get(0,0),r=t.get(0,1),s=t.get(0,2),e*R(o)-r*R(i)+s*R(n)}return new M(t).determinant}throw Error("determinant can only be calculated for a square matrix")}function N(t,e){let r=[];for(let s=0;s<t;s++)s!==e&&r.push(s);return r}function T(t,e,r,s=1e-9,o=1e-9){if(t>o)return new Array(e.rows+1).fill(0);{let t=e.addRow(r,[0]);for(let e=0;e<t.rows;e++)Math.abs(t.get(e,0))<s&&t.set(e,0,0);return t.to1DArray()}}function I(t,e={}){const{thresholdValue:r=1e-9,thresholdError:o=1e-9}=e;let i=(t=s.Z.checkMatrix(t)).rows,n=new s.Z(i,i);for(let e=0;e<i;e++){let h=s.Z.columnVector(t.getRow(e)),l=t.subMatrixRow(N(i,e)).transpose(),u=new v(l).solve(h),a=s.Z.sub(h,l.mmul(u)).abs().max();n.setRow(e,T(a,u,e,r,o))}return n}function k(t,e=Number.EPSILON){if((t=s.Z.checkMatrix(t)).isEmpty())return t.transpose();let r=new v(t,{autoTranspose:!0}),o=r.leftSingularVectors,i=r.rightSingularVectors,n=r.diagonal;for(let t=0;t<n.length;t++)Math.abs(n[t])>e?n[t]=1/n[t]:n[t]=0;return i.mmul(s.Z.diag(n).mmul(o.transpose()))}function V(t,e=t,r={}){t=new s.Z(t);let o=!1;if("object"!=typeof e||s.Z.isMatrix(e)||(0,w.N)(e)?e=new s.Z(e):(r=e,e=t,o=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0}=r;i&&(t=t.center("column"),o||(e=e.center("column")));const n=t.transpose().mmul(e);for(let e=0;e<n.rows;e++)for(let r=0;r<n.columns;r++)n.set(e,r,n.get(e,r)*(1/(t.rows-1)));return n}function C(t,e=t,r={}){t=new s.Z(t);let o=!1;if("object"!=typeof e||s.Z.isMatrix(e)||(0,w.N)(e)?e=new s.Z(e):(r=e,e=t,o=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:i=!0,scale:n=!0}=r;i&&(t.center("column"),o||e.center("column")),n&&(t.scale("column"),o||e.scale("column"));const h=t.standardDeviation("column",{unbiased:!0}),l=o?h:e.standardDeviation("column",{unbiased:!0}),u=t.transpose().mmul(e);for(let e=0;e<u.rows;e++)for(let r=0;r<u.columns;r++)u.set(e,r,u.get(e,r)*(1/(h[e]*l[r]))*(1/(t.rows-1)));return u}class A{constructor(t,e={}){const{assumeSymmetric:r=!1}=e;if(!(t=d.checkMatrix(t)).isSquare())throw new Error("Matrix is not a square matrix");if(t.isEmpty())throw new Error("Matrix must be non-empty");let o,i,n=t.columns,h=new s.Z(n,n),l=new Float64Array(n),u=new Float64Array(n),a=t,f=!1;if(f=!!r||t.isSymmetric(),f){for(o=0;o<n;o++)for(i=0;i<n;i++)h.set(o,i,a.get(o,i));!function(t,e,r,s){let o,i,n,h,l,u,a,f;for(l=0;l<t;l++)r[l]=s.get(t-1,l);for(h=t-1;h>0;h--){for(f=0,n=0,u=0;u<h;u++)f+=Math.abs(r[u]);if(0===f)for(e[h]=r[h-1],l=0;l<h;l++)r[l]=s.get(h-1,l),s.set(h,l,0),s.set(l,h,0);else{for(u=0;u<h;u++)r[u]/=f,n+=r[u]*r[u];for(o=r[h-1],i=Math.sqrt(n),o>0&&(i=-i),e[h]=f*i,n-=o*i,r[h-1]=o-i,l=0;l<h;l++)e[l]=0;for(l=0;l<h;l++){for(o=r[l],s.set(l,h,o),i=e[l]+s.get(l,l)*o,u=l+1;u<=h-1;u++)i+=s.get(u,l)*r[u],e[u]+=s.get(u,l)*o;e[l]=i}for(o=0,l=0;l<h;l++)e[l]/=n,o+=e[l]*r[l];for(a=o/(n+n),l=0;l<h;l++)e[l]-=a*r[l];for(l=0;l<h;l++){for(o=r[l],i=e[l],u=l;u<=h-1;u++)s.set(u,l,s.get(u,l)-(o*e[u]+i*r[u]));r[l]=s.get(h-1,l),s.set(h,l,0)}}r[h]=n}for(h=0;h<t-1;h++){if(s.set(t-1,h,s.get(h,h)),s.set(h,h,1),n=r[h+1],0!==n){for(u=0;u<=h;u++)r[u]=s.get(u,h+1)/n;for(l=0;l<=h;l++){for(i=0,u=0;u<=h;u++)i+=s.get(u,h+1)*s.get(u,l);for(u=0;u<=h;u++)s.set(u,l,s.get(u,l)-i*r[u])}}for(u=0;u<=h;u++)s.set(u,h+1,0)}for(l=0;l<t;l++)r[l]=s.get(t-1,l),s.set(t-1,l,0);s.set(t-1,t-1,1),e[0]=0}(n,u,l,h),function(t,e,r,s){let o,i,n,h,l,u,a,f,c,m,g,w,p,d,b,M,x;for(n=1;n<t;n++)e[n-1]=e[n];e[t-1]=0;let v=0,E=0,S=Number.EPSILON;for(u=0;u<t;u++){for(E=Math.max(E,Math.abs(r[u])+Math.abs(e[u])),a=u;a<t&&!(Math.abs(e[a])<=S*E);)a++;if(a>u){x=0;do{for(x+=1,o=r[u],f=(r[u+1]-o)/(2*e[u]),c=y(f,1),f<0&&(c=-c),r[u]=e[u]/(f+c),r[u+1]=e[u]*(f+c),m=r[u+1],i=o-r[u],n=u+2;n<t;n++)r[n]-=i;for(v+=i,f=r[a],g=1,w=g,p=g,d=e[u+1],b=0,M=0,n=a-1;n>=u;n--)for(p=w,w=g,M=b,o=g*e[n],i=g*f,c=y(f,e[n]),e[n+1]=b*c,b=e[n]/c,g=f/c,f=g*r[n]-b*o,r[n+1]=i+b*(g*o+b*r[n]),l=0;l<t;l++)i=s.get(l,n+1),s.set(l,n+1,b*s.get(l,n)+g*i),s.set(l,n,g*s.get(l,n)-b*i);f=-b*M*p*d*e[u]/m,e[u]=b*f,r[u]=g*f}while(Math.abs(e[u])>S*E)}r[u]=r[u]+v,e[u]=0}for(n=0;n<t-1;n++){for(l=n,f=r[n],h=n+1;h<t;h++)r[h]<f&&(l=h,f=r[h]);if(l!==n)for(r[l]=r[n],r[n]=f,h=0;h<t;h++)f=s.get(h,n),s.set(h,n,s.get(h,l)),s.set(h,l,f)}}(n,u,l,h)}else{let t=new s.Z(n,n),e=new Float64Array(n);for(i=0;i<n;i++)for(o=0;o<n;o++)t.set(o,i,a.get(o,i));!function(t,e,r,s){let o,i,n,h,l,u,a,f=t-1;for(u=1;u<=f-1;u++){for(a=0,h=u;h<=f;h++)a+=Math.abs(e.get(h,u-1));if(0!==a){for(n=0,h=f;h>=u;h--)r[h]=e.get(h,u-1)/a,n+=r[h]*r[h];for(i=Math.sqrt(n),r[u]>0&&(i=-i),n-=r[u]*i,r[u]=r[u]-i,l=u;l<t;l++){for(o=0,h=f;h>=u;h--)o+=r[h]*e.get(h,l);for(o/=n,h=u;h<=f;h++)e.set(h,l,e.get(h,l)-o*r[h])}for(h=0;h<=f;h++){for(o=0,l=f;l>=u;l--)o+=r[l]*e.get(h,l);for(o/=n,l=u;l<=f;l++)e.set(h,l,e.get(h,l)-o*r[l])}r[u]=a*r[u],e.set(u,u-1,a*i)}}for(h=0;h<t;h++)for(l=0;l<t;l++)s.set(h,l,h===l?1:0);for(u=f-1;u>=1;u--)if(0!==e.get(u,u-1)){for(h=u+1;h<=f;h++)r[h]=e.get(h,u-1);for(l=u;l<=f;l++){for(i=0,h=u;h<=f;h++)i+=r[h]*s.get(h,l);for(i=i/r[u]/e.get(u,u-1),h=u;h<=f;h++)s.set(h,l,s.get(h,l)+i*r[h])}}}(n,t,e,h),function(t,e,r,s,o){let i,n,h,l,u,a,f,c,m,g,w,p,d,b,M,y=t-1,x=t-1,v=Number.EPSILON,E=0,S=0,R=0,N=0,T=0,I=0,k=0,V=0;for(i=0;i<t;i++)for((i<0||i>x)&&(r[i]=o.get(i,i),e[i]=0),n=Math.max(i-1,0);n<t;n++)S+=Math.abs(o.get(i,n));for(;y>=0;){for(l=y;l>0&&(I=Math.abs(o.get(l-1,l-1))+Math.abs(o.get(l,l)),0===I&&(I=S),!(Math.abs(o.get(l,l-1))<v*I));)l--;if(l===y)o.set(y,y,o.get(y,y)+E),r[y]=o.get(y,y),e[y]=0,y--,V=0;else if(l===y-1){if(f=o.get(y,y-1)*o.get(y-1,y),R=(o.get(y-1,y-1)-o.get(y,y))/2,N=R*R+f,k=Math.sqrt(Math.abs(N)),o.set(y,y,o.get(y,y)+E),o.set(y-1,y-1,o.get(y-1,y-1)+E),c=o.get(y,y),N>=0){for(k=R>=0?R+k:R-k,r[y-1]=c+k,r[y]=r[y-1],0!==k&&(r[y]=c-f/k),e[y-1]=0,e[y]=0,c=o.get(y,y-1),I=Math.abs(c)+Math.abs(k),R=c/I,N=k/I,T=Math.sqrt(R*R+N*N),R/=T,N/=T,n=y-1;n<t;n++)k=o.get(y-1,n),o.set(y-1,n,N*k+R*o.get(y,n)),o.set(y,n,N*o.get(y,n)-R*k);for(i=0;i<=y;i++)k=o.get(i,y-1),o.set(i,y-1,N*k+R*o.get(i,y)),o.set(i,y,N*o.get(i,y)-R*k);for(i=0;i<=x;i++)k=s.get(i,y-1),s.set(i,y-1,N*k+R*s.get(i,y)),s.set(i,y,N*s.get(i,y)-R*k)}else r[y-1]=c+R,r[y]=c+R,e[y-1]=k,e[y]=-k;y-=2,V=0}else{if(c=o.get(y,y),m=0,f=0,l<y&&(m=o.get(y-1,y-1),f=o.get(y,y-1)*o.get(y-1,y)),10===V){for(E+=c,i=0;i<=y;i++)o.set(i,i,o.get(i,i)-c);I=Math.abs(o.get(y,y-1))+Math.abs(o.get(y-1,y-2)),c=m=.75*I,f=-.4375*I*I}if(30===V&&(I=(m-c)/2,I=I*I+f,I>0)){for(I=Math.sqrt(I),m<c&&(I=-I),I=c-f/((m-c)/2+I),i=0;i<=y;i++)o.set(i,i,o.get(i,i)-I);E+=I,c=m=f=.964}for(V+=1,u=y-2;u>=l&&(k=o.get(u,u),T=c-k,I=m-k,R=(T*I-f)/o.get(u+1,u)+o.get(u,u+1),N=o.get(u+1,u+1)-k-T-I,T=o.get(u+2,u+1),I=Math.abs(R)+Math.abs(N)+Math.abs(T),R/=I,N/=I,T/=I,u!==l)&&!(Math.abs(o.get(u,u-1))*(Math.abs(N)+Math.abs(T))<v*(Math.abs(R)*(Math.abs(o.get(u-1,u-1))+Math.abs(k)+Math.abs(o.get(u+1,u+1)))));)u--;for(i=u+2;i<=y;i++)o.set(i,i-2,0),i>u+2&&o.set(i,i-3,0);for(h=u;h<=y-1&&(b=h!==y-1,h!==u&&(R=o.get(h,h-1),N=o.get(h+1,h-1),T=b?o.get(h+2,h-1):0,c=Math.abs(R)+Math.abs(N)+Math.abs(T),0!==c&&(R/=c,N/=c,T/=c)),0!==c);h++)if(I=Math.sqrt(R*R+N*N+T*T),R<0&&(I=-I),0!==I){for(h!==u?o.set(h,h-1,-I*c):l!==u&&o.set(h,h-1,-o.get(h,h-1)),R+=I,c=R/I,m=N/I,k=T/I,N/=R,T/=R,n=h;n<t;n++)R=o.get(h,n)+N*o.get(h+1,n),b&&(R+=T*o.get(h+2,n),o.set(h+2,n,o.get(h+2,n)-R*k)),o.set(h,n,o.get(h,n)-R*c),o.set(h+1,n,o.get(h+1,n)-R*m);for(i=0;i<=Math.min(y,h+3);i++)R=c*o.get(i,h)+m*o.get(i,h+1),b&&(R+=k*o.get(i,h+2),o.set(i,h+2,o.get(i,h+2)-R*T)),o.set(i,h,o.get(i,h)-R),o.set(i,h+1,o.get(i,h+1)-R*N);for(i=0;i<=x;i++)R=c*s.get(i,h)+m*s.get(i,h+1),b&&(R+=k*s.get(i,h+2),s.set(i,h+2,s.get(i,h+2)-R*T)),s.set(i,h,s.get(i,h)-R),s.set(i,h+1,s.get(i,h+1)-R*N)}}}if(0!==S){for(y=t-1;y>=0;y--)if(R=r[y],N=e[y],0===N)for(l=y,o.set(y,y,1),i=y-1;i>=0;i--){for(f=o.get(i,i)-R,T=0,n=l;n<=y;n++)T+=o.get(i,n)*o.get(n,y);if(e[i]<0)k=f,I=T;else if(l=i,0===e[i]?o.set(i,y,0!==f?-T/f:-T/(v*S)):(c=o.get(i,i+1),m=o.get(i+1,i),N=(r[i]-R)*(r[i]-R)+e[i]*e[i],a=(c*I-k*T)/N,o.set(i,y,a),o.set(i+1,y,Math.abs(c)>Math.abs(k)?(-T-f*a)/c:(-I-m*a)/k)),a=Math.abs(o.get(i,y)),v*a*a>1)for(n=i;n<=y;n++)o.set(n,y,o.get(n,y)/a)}else if(N<0)for(l=y-1,Math.abs(o.get(y,y-1))>Math.abs(o.get(y-1,y))?(o.set(y-1,y-1,N/o.get(y,y-1)),o.set(y-1,y,-(o.get(y,y)-R)/o.get(y,y-1))):(M=F(0,-o.get(y-1,y),o.get(y-1,y-1)-R,N),o.set(y-1,y-1,M[0]),o.set(y-1,y,M[1])),o.set(y,y-1,0),o.set(y,y,1),i=y-2;i>=0;i--){for(g=0,w=0,n=l;n<=y;n++)g+=o.get(i,n)*o.get(n,y-1),w+=o.get(i,n)*o.get(n,y);if(f=o.get(i,i)-R,e[i]<0)k=f,T=g,I=w;else if(l=i,0===e[i]?(M=F(-g,-w,f,N),o.set(i,y-1,M[0]),o.set(i,y,M[1])):(c=o.get(i,i+1),m=o.get(i+1,i),p=(r[i]-R)*(r[i]-R)+e[i]*e[i]-N*N,d=2*(r[i]-R)*N,0===p&&0===d&&(p=v*S*(Math.abs(f)+Math.abs(N)+Math.abs(c)+Math.abs(m)+Math.abs(k))),M=F(c*T-k*g+N*w,c*I-k*w-N*g,p,d),o.set(i,y-1,M[0]),o.set(i,y,M[1]),Math.abs(c)>Math.abs(k)+Math.abs(N)?(o.set(i+1,y-1,(-g-f*o.get(i,y-1)+N*o.get(i,y))/c),o.set(i+1,y,(-w-f*o.get(i,y)-N*o.get(i,y-1))/c)):(M=F(-T-m*o.get(i,y-1),-I-m*o.get(i,y),k,N),o.set(i+1,y-1,M[0]),o.set(i+1,y,M[1]))),a=Math.max(Math.abs(o.get(i,y-1)),Math.abs(o.get(i,y))),v*a*a>1)for(n=i;n<=y;n++)o.set(n,y-1,o.get(n,y-1)/a),o.set(n,y,o.get(n,y)/a)}for(i=0;i<t;i++)if(i<0||i>x)for(n=i;n<t;n++)s.set(i,n,o.get(i,n));for(n=t-1;n>=0;n--)for(i=0;i<=x;i++){for(k=0,h=0;h<=Math.min(n,x);h++)k+=s.get(i,h)*o.get(h,n);s.set(i,n,k)}}}(n,u,l,h,t)}this.n=n,this.e=u,this.d=l,this.V=h}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let t,e,r=this.n,o=this.e,i=this.d,n=new s.Z(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)n.set(t,e,0);n.set(t,t,i[t]),o[t]>0?n.set(t,t+1,o[t]):o[t]<0&&n.set(t,t-1,o[t])}return n}}function F(t,e,r,s){let o,i;return Math.abs(r)>Math.abs(s)?(o=s/r,i=r+o*s,[(t+o*e)/i,(e-o*t)/i]):(o=r/s,i=s+o*r,[(o*t+e)/i,(o*e-t)/i])}class q{constructor(t){if(!(t=d.checkMatrix(t)).isSymmetric())throw new Error("Matrix is not symmetric");let e,r,o,i=t,n=i.rows,h=new s.Z(n,n),l=!0;for(r=0;r<n;r++){let t=0;for(o=0;o<r;o++){let s=0;for(e=0;e<o;e++)s+=h.get(o,e)*h.get(r,e);s=(i.get(r,o)-s)/h.get(o,o),h.set(r,o,s),t+=s*s}for(t=i.get(r,r)-t,l&=t>0,h.set(r,r,Math.sqrt(Math.max(t,0))),o=r+1;o<n;o++)h.set(r,o,0)}this.L=h,this.positiveDefinite=Boolean(l)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=d.checkMatrix(t);let e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let s,o,i,n=t.columns,h=t.clone();for(i=0;i<r;i++)for(o=0;o<n;o++){for(s=0;s<i;s++)h.set(i,o,h.get(i,o)-h.get(s,o)*e.get(i,s));h.set(i,o,h.get(i,o)/e.get(i,i))}for(i=r-1;i>=0;i--)for(o=0;o<n;o++){for(s=i+1;s<r;s++)h.set(i,o,h.get(i,o)-h.get(s,o)*e.get(s,i));h.set(i,o,h.get(i,o)/e.get(i,i))}return h}get lowerTriangularMatrix(){return this.L}}class Z{constructor(t,e={}){t=d.checkMatrix(t);let{Y:r}=e;const{scaleScores:o=!1,maxIterations:i=1e3,terminationCriteria:n=1e-10}=e;let h;if(r){if(r=(0,w.N)(r)&&"number"==typeof r[0]?s.Z.columnVector(r):d.checkMatrix(r),r.rows!==t.rows)throw new Error("Y should have the same number of rows as X");h=r.getColumnVector(0)}else h=t.getColumnVector(0);let l,u,a,f,c=1;for(let e=0;e<i&&c>n;e++)a=t.transpose().mmul(h).div(h.transpose().mmul(h).get(0,0)),a=a.div(a.norm()),l=t.mmul(a).div(a.transpose().mmul(a).get(0,0)),e>0&&(c=l.clone().sub(f).pow(2).sum()),f=l.clone(),r?(u=r.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),u=u.div(u.norm()),h=r.mmul(u).div(u.transpose().mmul(u).get(0,0))):h=l;if(r){let e=t.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0));e=e.div(e.norm());let s=t.clone().sub(l.clone().mmul(e.transpose())),o=h.transpose().mmul(l).div(l.transpose().mmul(l).get(0,0)),i=r.clone().sub(l.clone().mulS(o.get(0,0)).mmul(u.transpose()));this.t=l,this.p=e.transpose(),this.w=a.transpose(),this.q=u,this.u=h,this.s=l.transpose().mmul(l),this.xResidual=s,this.yResidual=i,this.betas=o}else this.w=a.transpose(),this.s=l.transpose().mmul(l).sqrt(),this.t=o?l.clone().div(this.s.get(0,0)):l,this.xResidual=t.sub(l.mmul(a.transpose()))}}},883:(t,e,r)=>{"use strict";r.d(e,{X:()=>f,Z:()=>m});var s=r(91);function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,s.N)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!(0,s.N)(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,s.N)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,i=e.toIndex,n=void 0===i?t.length:i;if(o<0||o>=t.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(n<=o||n>t.length||!Number.isInteger(n))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var h=t[o],l=o+1;l<n;l++)t[l]<h&&(h=t[l]);return h}(t),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,s.N)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,o=void 0===r?0:r,i=e.toIndex,n=void 0===i?t.length:i;if(o<0||o>=t.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(n<=o||n>t.length||!Number.isInteger(n))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var h=t[o],l=o+1;l<n;l++)t[l]>h&&(h=t[l]);return h}(t);if(o===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var n=r.min,h=void 0===n?r.autoMinMax?o:0:n,l=r.max,u=void 0===l?r.autoMinMax?i:1:l;if(h>=u)throw new RangeError("min option must be smaller than max option");for(var a=(u-h)/(i-o),f=0;f<t.length;f++)e[f]=(t[f]-o)*a+h;return e}const i=" ".repeat(2),n=" ".repeat(4);function h(t,e={}){const{maxRows:r=15,maxColumns:s=10,maxNumSize:o=8,padMinus:h="auto"}=e;return`${t.constructor.name} {\n${i}[\n${n}${function(t,e,r,s,o){const{rows:i,columns:h}=t,u=Math.min(i,e),a=Math.min(h,r),f=[];if("auto"===o){o=!1;t:for(let e=0;e<u;e++)for(let r=0;r<a;r++)if(t.get(e,r)<0){o=!0;break t}}for(let e=0;e<u;e++){let r=[];for(let i=0;i<a;i++)r.push(l(t.get(e,i),s,o));f.push(`${r.join(" ")}`)}return a!==h&&(f[f.length-1]+=` ... ${h-r} more columns`),u!==i&&f.push(`... ${i-e} more rows`),f.join(`\n${n}`)}(t,r,s,o,h)}\n${i}]\n${i}rows: ${t.rows}\n${i}columns: ${t.columns}\n}`}function l(t,e,r){return(t>=0&&r?` ${u(t,e-1)}`:u(t,e)).padEnd(e)}function u(t,e){let r=t.toString();if(r.length<=e)return r;let s=t.toFixed(e);if(s.length>e&&(s=t.toFixed(Math.max(0,e-(s.length-e)))),s.length<=e&&!s.startsWith("0.000")&&!s.startsWith("-0.000"))return s;let o=t.toExponential(e);return o.length>e&&(o=t.toExponential(Math.max(0,e-(o.length-e)))),o.slice(0)}var a=r(18);class f{static from1DArray(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");let s=new m(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)s.set(o,t,r[o*e+t]);return s}static rowVector(t){let e=new m(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static columnVector(t){let e=new m(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zeros(t,e){return new m(t,e)}static ones(t,e){return new m(t,e).fill(1)}static rand(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{random:s=Math.random}=r;let o=new m(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)o.set(r,t,s());return o}static randInt(t,e,r={}){if("object"!=typeof r)throw new TypeError("options must be an object");const{min:s=0,max:o=1e3,random:i=Math.random}=r;if(!Number.isInteger(s))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(s>=o)throw new RangeError("min must be smaller than max");let n=o-s,h=new m(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=s+Math.round(i()*n);h.set(r,t,e)}return h}static eye(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let s=Math.min(t,e),o=this.zeros(t,e);for(let t=0;t<s;t++)o.set(t,t,r);return o}static diag(t,e,r){let s=t.length;void 0===e&&(e=s),void 0===r&&(r=e);let o=Math.min(s,e,r),i=this.zeros(e,r);for(let e=0;e<o;e++)i.set(e,e,t[e]);return i}static min(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,o=new m(r,s);for(let i=0;i<r;i++)for(let r=0;r<s;r++)o.set(i,r,Math.min(t.get(i,r),e.get(i,r)));return o}static max(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);let r=t.rows,s=t.columns,o=new this(r,s);for(let i=0;i<r;i++)for(let r=0;r<s;r++)o.set(i,r,Math.max(t.get(i,r),e.get(i,r)));return o}static checkMatrix(t){return f.isMatrix(t)?t:new m(t)}static isMatrix(t){return null!=t&&"Matrix"===t.klass}get size(){return this.rows*this.columns}apply(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.call(this,e,r);return this}to1DArray(){let t=[];for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.push(this.get(e,r));return t}to2DArray(){let t=[];for(let e=0;e<this.rows;e++){t.push([]);for(let r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let t=0;t<this.rows;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}isEchelonForm(){let t=0,e=0,r=-1,s=!0,o=!1;for(;t<this.rows&&s;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(s=!1,o=!0);t++}return s}isReducedEchelonForm(){let t=0,e=0,r=-1,s=!0,o=!1;for(;t<this.rows&&s;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(s=!1,o=!0);for(let r=e+1;r<this.rows;r++)0!==this.get(t,r)&&(s=!1);t++}return s}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.rows&&r<t.columns;){let s=e;for(let o=e;o<t.rows;o++)t.get(o,r)>t.get(s,r)&&(s=o);if(0===t.get(s,r))r++;else{t.swapRows(e,s);let o=t.get(e,r);for(let s=r;s<t.columns;s++)t.set(e,s,t.get(e,s)/o);for(let s=e+1;s<t.rows;s++){let o=t.get(s,r)/t.get(e,r);t.set(s,r,0);for(let i=r+1;i<t.columns;i++)t.set(s,i,t.get(s,i)-t.get(e,i)*o)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.columns,r=t.rows,s=r-1;for(;s>=0;)if(0===t.maxRow(s))s--;else{let o=0,i=!1;for(;o<r&&!1===i;)1===t.get(s,o)?i=!0:o++;for(let r=0;r<s;r++){let i=t.get(r,o);for(let n=o;n<e;n++){let e=t.get(r,n)-i*t.get(s,n);t.set(r,n,e)}}s--}return t}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{rows:e=1,columns:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new TypeError("columns must be a positive integer");let s=new m(this.rows*e,this.columns*r);for(let t=0;t<e;t++)for(let e=0;e<r;e++)s.setSubMatrix(this,this.rows*t,this.columns*e);return s}fill(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}getRow(t){(0,a.zb)(this,t);let e=[];for(let r=0;r<this.columns;r++)e.push(this.get(t,r));return e}getRowVector(t){return m.rowVector(this.getRow(t))}setRow(t,e){(0,a.zb)(this,t),e=(0,a.on)(this,e);for(let r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}swapRows(t,e){(0,a.zb)(this,t),(0,a.zb)(this,e);for(let r=0;r<this.columns;r++){let s=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,s)}return this}getColumn(t){(0,a.bp)(this,t);let e=[];for(let r=0;r<this.rows;r++)e.push(this.get(r,t));return e}getColumnVector(t){return m.columnVector(this.getColumn(t))}setColumn(t,e){(0,a.bp)(this,t),e=(0,a.Um)(this,e);for(let r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}swapColumns(t,e){(0,a.bp)(this,t),(0,a.bp)(this,e);for(let r=0;r<this.rows;r++){let s=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,s)}return this}addRowVector(t){t=(0,a.on)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}subRowVector(t){t=(0,a.on)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}mulRowVector(t){t=(0,a.on)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}divRowVector(t){t=(0,a.on)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}addColumnVector(t){t=(0,a.Um)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}subColumnVector(t){t=(0,a.Um)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}mulColumnVector(t){t=(0,a.Um)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}divColumnVector(t){t=(0,a.Um)(this,t);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}mulRow(t,e){(0,a.zb)(this,t);for(let r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}mulColumn(t,e){(0,a.bp)(this,t);for(let r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}max(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}maxIndex(){(0,a.cT)(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)>t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}min(t){if(this.isEmpty())return NaN;switch(t){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[e]&&(t[e]=this.get(e,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t[r]&&(t[r]=this.get(e,r));return t}case void 0:{let t=this.get(0,0);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}default:throw new Error(`invalid option: ${t}`)}}minIndex(){(0,a.cT)(this);let t=this.get(0,0),e=[0,0];for(let r=0;r<this.rows;r++)for(let s=0;s<this.columns;s++)this.get(r,s)<t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}maxRow(t){if((0,a.zb)(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}maxRowIndex(t){(0,a.zb)(this,t),(0,a.cT)(this);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.columns;s++)this.get(t,s)>e&&(e=this.get(t,s),r[1]=s);return r}minRow(t){if((0,a.zb)(this,t),this.isEmpty())return NaN;let e=this.get(t,0);for(let r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}minRowIndex(t){(0,a.zb)(this,t),(0,a.cT)(this);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.columns;s++)this.get(t,s)<e&&(e=this.get(t,s),r[1]=s);return r}maxColumn(t){if((0,a.bp)(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}maxColumnIndex(t){(0,a.bp)(this,t),(0,a.cT)(this);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.rows;s++)this.get(s,t)>e&&(e=this.get(s,t),r[0]=s);return r}minColumn(t){if((0,a.bp)(this,t),this.isEmpty())return NaN;let e=this.get(0,t);for(let r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}minColumnIndex(t){(0,a.bp)(this,t),(0,a.cT)(this);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.rows;s++)this.get(s,t)<e&&(e=this.get(s,t),r[0]=s);return r}diag(){let t=Math.min(this.rows,this.columns),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}norm(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.rows;t++)for(let r=0;r<this.columns;r++)e+=this.get(t,r)*this.get(t,r);return Math.sqrt(e)}throw new RangeError(`unknown norm type: ${t}`)}cumulativeSum(){let t=0;for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){f.isMatrix(t)&&(t=t.to1DArray());let e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");let r=0;for(let s=0;s<e.length;s++)r+=e[s]*t[s];return r}mmul(t){t=m.checkMatrix(t);let e=this.rows,r=this.columns,s=t.columns,o=new m(e,s),i=new Float64Array(r);for(let n=0;n<s;n++){for(let e=0;e<r;e++)i[e]=t.get(e,n);for(let t=0;t<e;t++){let e=0;for(let s=0;s<r;s++)e+=this.get(t,s)*i[s];o.set(t,n,e)}}return o}strassen2x2(t){t=m.checkMatrix(t);let e=new m(2,2);const r=this.get(0,0),s=t.get(0,0),o=this.get(0,1),i=t.get(0,1),n=this.get(1,0),h=t.get(1,0),l=this.get(1,1),u=t.get(1,1),a=(r+l)*(s+u),f=(n+l)*s,c=r*(i-u),g=l*(h-s),w=(r+o)*u,p=a+g-w+(o-l)*(h+u),d=c+w,b=f+g,M=a-f+c+(n-r)*(s+i);return e.set(0,0,p),e.set(0,1,d),e.set(1,0,b),e.set(1,1,M),e}strassen3x3(t){t=m.checkMatrix(t);let e=new m(3,3);const r=this.get(0,0),s=this.get(0,1),o=this.get(0,2),i=this.get(1,0),n=this.get(1,1),h=this.get(1,2),l=this.get(2,0),u=this.get(2,1),a=this.get(2,2),f=t.get(0,0),c=t.get(0,1),g=t.get(0,2),w=t.get(1,0),p=t.get(1,1),d=t.get(1,2),b=t.get(2,0),M=t.get(2,1),y=t.get(2,2),x=(r-i)*(-c+p),v=(-r+i+n)*(f-c+p),E=(i+n)*(-f+c),S=r*f,R=(-r+l+u)*(f-g+d),N=(-r+l)*(g-d),T=(l+u)*(-f+g),I=(-o+u+a)*(p+b-M),k=(o-a)*(p-M),V=o*b,C=(u+a)*(-b+M),A=(-o+n+h)*(d+b-y),F=(o-h)*(d-y),q=(n+h)*(-b+y),Z=S+V+s*w,D=(r+s+o-i-n-u-a)*p+v+E+S+I+V+C,z=S+R+T+(r+s+o-n-h-l-u)*d+V+A+q,P=x+n*(-f+c+w-p-d-b+y)+v+S+V+A+F,$=x+v+E+S+h*M,j=V+A+F+q+i*g,L=S+R+N+u*(-f+g+w-p-d-b+M)+I+k+V,U=I+k+V+C+l*c,O=S+R+N+T+a*y;return e.set(0,0,Z),e.set(0,1,D),e.set(0,2,z),e.set(1,0,P),e.set(1,1,$),e.set(1,2,j),e.set(2,0,L),e.set(2,1,U),e.set(2,2,O),e}mmulStrassen(t){t=m.checkMatrix(t);let e=this.clone(),r=e.rows,s=e.columns,o=t.rows,i=t.columns;function n(t,e,r){let s=t.rows,o=t.columns;if(s===e&&o===r)return t;{let s=f.zeros(e,r);return s=s.setSubMatrix(t,0,0),s}}s!==o&&console.warn(`Multiplying ${r} x ${s} and ${o} x ${i} matrix: dimensions do not match.`);let h=Math.max(r,o),l=Math.max(s,i);return e=n(e,h,l),function t(e,r,s,o){if(s<=512||o<=512)return e.mmul(r);s%2==1&&o%2==1?(e=n(e,s+1,o+1),r=n(r,s+1,o+1)):s%2==1?(e=n(e,s+1,o),r=n(r,s+1,o)):o%2==1&&(e=n(e,s,o+1),r=n(r,s,o+1));let i=parseInt(e.rows/2,10),h=parseInt(e.columns/2,10),l=e.subMatrix(0,i-1,0,h-1),u=r.subMatrix(0,i-1,0,h-1),a=e.subMatrix(0,i-1,h,e.columns-1),c=r.subMatrix(0,i-1,h,r.columns-1),m=e.subMatrix(i,e.rows-1,0,h-1),g=r.subMatrix(i,r.rows-1,0,h-1),w=e.subMatrix(i,e.rows-1,h,e.columns-1),p=r.subMatrix(i,r.rows-1,h,r.columns-1),d=t(f.add(l,w),f.add(u,p),i,h),b=t(f.add(m,w),u,i,h),M=t(l,f.sub(c,p),i,h),y=t(w,f.sub(g,u),i,h),x=t(f.add(l,a),p,i,h),v=t(f.sub(m,l),f.add(u,c),i,h),E=t(f.sub(a,w),f.add(g,p),i,h),S=f.add(d,y);S.sub(x),S.add(E);let R=f.add(M,x),N=f.add(b,y),T=f.sub(d,b);T.add(M),T.add(v);let I=f.zeros(2*S.rows,2*S.columns);return I=I.setSubMatrix(S,0,0),I=I.setSubMatrix(R,S.rows,0),I=I.setSubMatrix(N,0,S.columns),I=I.setSubMatrix(T,S.rows,S.columns),I.subMatrix(0,s-1,0,o-1)}(e,t=n(t,h,l),h,l)}scaleRows(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let s=new m(this.rows,this.columns);for(let t=0;t<this.rows;t++){const i=this.getRow(t);i.length>0&&o(i,{min:e,max:r,output:i}),s.setRow(t,i)}return s}scaleColumns(t={}){if("object"!=typeof t)throw new TypeError("options must be an object");const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new TypeError("min must be a number");if(!Number.isFinite(r))throw new TypeError("max must be a number");if(e>=r)throw new RangeError("min must be smaller than max");let s=new m(this.rows,this.columns);for(let t=0;t<this.columns;t++){const i=this.getColumn(t);i.length&&o(i,{min:e,max:r,output:i}),s.setColumn(t,i)}return s}flipRows(){const t=Math.ceil(this.columns/2);for(let e=0;e<this.rows;e++)for(let r=0;r<t;r++){let t=this.get(e,r),s=this.get(e,this.columns-1-r);this.set(e,r,s),this.set(e,this.columns-1-r,t)}return this}flipColumns(){const t=Math.ceil(this.rows/2);for(let e=0;e<this.columns;e++)for(let r=0;r<t;r++){let t=this.get(r,e),s=this.get(this.rows-1-r,e);this.set(r,e,s),this.set(this.rows-1-r,e,t)}return this}kroneckerProduct(t){t=m.checkMatrix(t);let e=this.rows,r=this.columns,s=t.rows,o=t.columns,i=new m(e*s,r*o);for(let n=0;n<e;n++)for(let e=0;e<r;e++)for(let r=0;r<s;r++)for(let h=0;h<o;h++)i.set(s*n+r,o*e+h,this.get(n,e)*t.get(r,h));return i}kroneckerSum(t){if(t=m.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let e=this.rows,r=t.rows,s=this.kroneckerProduct(m.eye(r,r)),o=m.eye(e,e).kroneckerProduct(t);return s.add(o)}transpose(){let t=new m(this.columns,this.rows);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}sortRows(t=c){for(let e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}sortColumns(t=c){for(let e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}subMatrix(t,e,r,s){(0,a.J5)(this,t,e,r,s);let o=new m(e-t+1,s-r+1);for(let i=t;i<=e;i++)for(let e=r;e<=s;e++)o.set(i-t,e-r,this.get(i,e));return o}subMatrixRow(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");let s=new m(t.length,r-e+1);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.rows)throw new RangeError(`Row index out of range: ${t[o]}`);s.set(o,i-e,this.get(t[o],i))}return s}subMatrixColumn(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");let s=new m(r-e+1,t.length);for(let o=0;o<t.length;o++)for(let i=e;i<=r;i++){if(t[o]<0||t[o]>=this.columns)throw new RangeError(`Column index out of range: ${t[o]}`);s.set(i-e,o,this.get(i,t[o]))}return s}setSubMatrix(t,e,r){if((t=m.checkMatrix(t)).isEmpty())return this;let s=e+t.rows-1,o=r+t.columns-1;(0,a.J5)(this,e,s,r,o);for(let s=0;s<t.rows;s++)for(let o=0;o<t.columns;o++)this.set(e+s,r+o,t.get(s,o));return this}selection(t,e){(0,a.ZR)(this,t),(0,a.g)(this,e);let r=new m(t.length,e.length);for(let s=0;s<t.length;s++){let o=t[s];for(let t=0;t<e.length;t++){let i=e[t];r.set(s,t,this.get(o,i))}}return r}trace(){let t=Math.min(this.rows,this.columns),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){let t=new m(this.rows,this.columns);for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}sum(t){switch(t){case"row":return function(t){let e=(0,a.B4)(t.rows);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[r]+=t.get(r,s);return e}(this);case"column":return function(t){let e=(0,a.B4)(t.columns);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[s]+=t.get(r,s);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)e+=t.get(r,s);return e}(this);default:throw new Error(`invalid option: ${t}`)}}product(t){switch(t){case"row":return function(t){let e=(0,a.B4)(t.rows,1);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[r]*=t.get(r,s);return e}(this);case"column":return function(t){let e=(0,a.B4)(t.columns,1);for(let r=0;r<t.rows;++r)for(let s=0;s<t.columns;++s)e[s]*=t.get(r,s);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)e*=t.get(r,s);return e}(this);default:throw new Error(`invalid option: ${t}`)}}mean(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.rows;t++)e[t]/=this.columns;return e;case"column":for(let t=0;t<this.columns;t++)e[t]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error(`invalid option: ${t}`)}}variance(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{unbiased:r=!0,mean:o=this.mean(t)}=e;if("boolean"!=typeof r)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!(0,s.N)(o))throw new TypeError("mean must be an array");return function(t,e,r){const s=t.rows,o=t.columns,i=[];for(let n=0;n<s;n++){let s=0,h=0,l=0;for(let e=0;e<o;e++)l=t.get(n,e)-r[n],s+=l,h+=l*l;e?i.push((h-s*s/o)/(o-1)):i.push((h-s*s/o)/o)}return i}(this,r,o);case"column":if(!(0,s.N)(o))throw new TypeError("mean must be an array");return function(t,e,r){const s=t.rows,o=t.columns,i=[];for(let n=0;n<o;n++){let o=0,h=0,l=0;for(let e=0;e<s;e++)l=t.get(e,n)-r[n],o+=l,h+=l*l;e?i.push((h-o*o/s)/(s-1)):i.push((h-o*o/s)/s)}return i}(this,r,o);case void 0:if("number"!=typeof o)throw new TypeError("mean must be a number");return function(t,e,r){const s=t.rows,o=t.columns,i=s*o;let n=0,h=0,l=0;for(let e=0;e<s;e++)for(let s=0;s<o;s++)l=t.get(e,s)-r,n+=l,h+=l*l;return e?(h-n*n/i)/(i-1):(h-n*n/i)/i}(this,r,o);default:throw new Error(`invalid option: ${t}`)}}standardDeviation(t,e){"object"==typeof t&&(e=t,t=void 0);const r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(let t=0;t<r.length;t++)r[t]=Math.sqrt(r[t]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");const{center:r=this.mean(t)}=e;switch(t){case"row":if(!(0,s.N)(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)-e[r])}(this,r),this;case"column":if(!(0,s.N)(r))throw new TypeError("center must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)-e[s])}(this,r),this;case void 0:if("number"!=typeof r)throw new TypeError("center must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)-e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new TypeError("options must be an object");let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.rows;r++){let s=0;for(let e=0;e<t.columns;e++)s+=Math.pow(t.get(r,e),2)/(t.columns-1);e.push(Math.sqrt(s))}return e}(this);else if(!(0,s.N)(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)/e[r])}(this,r),this;case"column":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.columns;r++){let s=0;for(let e=0;e<t.rows;e++)s+=Math.pow(t.get(e,r),2)/(t.rows-1);e.push(Math.sqrt(s))}return e}(this);else if(!(0,s.N)(r))throw new TypeError("scale must be an array");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)/e[s])}(this,r),this;case void 0:if(void 0===r)r=function(t){const e=t.size-1;let r=0;for(let s=0;s<t.columns;s++)for(let o=0;o<t.rows;o++)r+=Math.pow(t.get(o,s),2)/e;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw new TypeError("scale must be a number");return function(t,e){for(let r=0;r<t.rows;r++)for(let s=0;s<t.columns;s++)t.set(r,s,t.get(r,s)/e)}(this,r),this;default:throw new Error(`invalid option: ${t}`)}}toString(t){return h(this,t)}}function c(t,e){return t-e}f.prototype.klass="Matrix","undefined"!=typeof Symbol&&(f.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return h(this)}),f.random=f.rand,f.randomInt=f.randInt,f.diagonal=f.diag,f.prototype.diagonal=f.prototype.diag,f.identity=f.eye,f.prototype.negate=f.prototype.neg,f.prototype.tensorProduct=f.prototype.kroneckerProduct;class m extends f{constructor(t,e){if(super(),m.isMatrix(t))return t.clone();if(Number.isInteger(t)&&t>=0){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let r=0;r<t;r++)this.data.push(new Float64Array(e))}else{if(!(0,s.N)(t))throw new TypeError("First argument must be a positive number or an array");{const r=t;if("number"!=typeof(e=(t=r.length)?r[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let s=0;s<t;s++){if(r[s].length!==e)throw new RangeError("Inconsistent array dimensions");if(!r[s].every((t=>"number"==typeof t)))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(r[s]))}}}this.rows=t,this.columns=e}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}removeRow(t){return(0,a.zb)(this,t),this.data.splice(t,1),this.rows-=1,this}addRow(t,e){return void 0===e&&(e=t,t=this.rows),(0,a.zb)(this,t,!0),e=Float64Array.from((0,a.on)(this,e)),this.data.splice(t,0,e),this.rows+=1,this}removeColumn(t){(0,a.bp)(this,t);for(let e=0;e<this.rows;e++){const r=new Float64Array(this.columns-1);for(let s=0;s<t;s++)r[s]=this.data[e][s];for(let s=t+1;s<this.columns;s++)r[s-1]=this.data[e][s];this.data[e]=r}return this.columns-=1,this}addColumn(t,e){void 0===e&&(e=t,t=this.columns),(0,a.bp)(this,t,!0),e=(0,a.Um)(this,e);for(let r=0;r<this.rows;r++){const s=new Float64Array(this.columns+1);let o=0;for(;o<t;o++)s[o]=this.data[r][o];for(s[o++]=e[r];o<this.columns+1;o++)s[o]=this.data[r][o-1];this.data[r]=s}return this.columns+=1,this}}!function(t,e){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){return new e(t).add(r)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){return new e(t).sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){return new e(t).mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){return new e(t).div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){return new e(t).mod(r)},t.prototype.modulus=t.prototype.mod,t.prototype.modulusS=t.prototype.modS,t.prototype.modulusM=t.prototype.modM,t.modulus=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){return new e(t).and(r)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){return new e(t).or(r)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){return new e(t).xor(r)},t.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},t.prototype.leftShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.leftShift=function(t,r){return new e(t).leftShift(r)},t.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},t.prototype.signPropagatingRightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.signPropagatingRightShift=function(t,r){return new e(t).signPropagatingRightShift(r)},t.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},t.prototype.rightShiftS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.rightShift=function(t,r){return new e(t).rightShift(r)},t.prototype.zeroFillRightShift=t.prototype.rightShift,t.prototype.zeroFillRightShiftS=t.prototype.rightShiftS,t.prototype.zeroFillRightShiftM=t.prototype.rightShiftM,t.zeroFillRightShift=t.rightShift,t.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},t.acosh=function(t){return new e(t).acosh()},t.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},t.asinh=function(t){return new e(t).asinh()},t.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,r){return new e(t).pow(r)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},t.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let e=0;e<this.rows;e++)for(let r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this}}(f,m)},18:(t,e,r)=>{"use strict";r.d(e,{B4:()=>f,J5:()=>a,Um:()=>h,ZR:()=>l,bp:()=>i,cT:()=>m,g:()=>u,on:()=>n,zb:()=>o});var s=r(91);function o(t,e,r){let s=r?t.rows:t.rows-1;if(e<0||e>s)throw new RangeError("Row index out of range")}function i(t,e,r){let s=r?t.columns:t.columns-1;if(e<0||e>s)throw new RangeError("Column index out of range")}function n(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function h(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function l(t,e){if(!(0,s.N)(e))throw new TypeError("row indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.rows)throw new RangeError("row indices are out of range")}function u(t,e){if(!(0,s.N)(e))throw new TypeError("column indices must be an array");for(let r=0;r<e.length;r++)if(e[r]<0||e[r]>=t.columns)throw new RangeError("column indices are out of range")}function a(t,e,r,s,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(c("startRow",e),c("endRow",r),c("startColumn",s),c("endColumn",o),e>r||s>o||e<0||e>=t.rows||r<0||r>=t.rows||s<0||s>=t.columns||o<0||o>=t.columns)throw new RangeError("Submatrix indices are out of range")}function f(t,e=0){let r=[];for(let s=0;s<t;s++)r.push(e);return r}function c(t,e){if("number"!=typeof e)throw new TypeError(`${t} must be a number`)}function m(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}}},e={};function r(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const{DecisionTreeClassifier:t}=r(939),{Matrix:e}=r(938),s=new e([[0,0],[0,1],[1,0],[1,1]]),o=new t({gainFunction:"gini",maxDepth:2});o.train(s,[0,1,1,0]);const i=new e([[0,1]]),n=o.predict(i);console.log(n)})()})();